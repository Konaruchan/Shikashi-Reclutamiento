<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rensai Viewer - Shikashi Monthly Friday Series</title>
  <!-- pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  <!-- Estilos externos -->
  <link rel="stylesheet" href="css/viewer-styles.css">
</head>
<body>
  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <img class="logo" src="img/logo.png" alt="Logo">
    <img class="loading-gif" src="img/loading.gif" alt="Cargando...">
    <div id="loadingText" class="loading-text">Vistiendo a las chicas mágicas...</div>
  </div>
  
  <!-- Direction Overlay (se muestra brevemente al iniciar) -->
  <div id="directionOverlay" class="direction-overlay" style="display: none;">←</div>
  
  <!-- Barra Superior: Contador, botón Volver y Configuración -->
  <div id="topNavBar" class="top-bar">
    <div class="page-info" id="topPageInfo" aria-label="Información de página">1 de ?</div>
    <div class="nav-buttons">
      <button id="backButton" aria-label="Volver" type="button">Volver</button>
      <button id="settingsButton" aria-label="Configuraciones" type="button">⚙️</button>
    </div>
  </div>
  
  <!-- Menú de Configuraciones (inicialmente oculto) -->
  <div id="settingsMenu" class="settings-menu">
    <h3>Configuraciones</h3>
    <label>
      Modo de lectura:
      <select id="readingMode">
        <option value="2">Doble página</option>
        <option value="1">Una página</option>
      </select>
    </label>
    <label>
      Zoom:
      <input type="range" id="zoomRange" min="0.5" max="3" step="0.1" value="1">
    </label>
    <label>
      Fondo:
      <input type="color" id="bgColorPicker" value="#fafafa">
    </label>
    <button id="closeSettings">Cerrar</button>
  </div>
  
  <!-- Contenedor del visor -->
  <div id="viewerContainer" class="viewer-container">
    <!-- En modo doble se usarán dos canvas; en móvil o modo simple, solo se muestra uno -->
    <canvas id="canvasLeft"></canvas>
    <canvas id="canvasRight"></canvas>
    <!-- Botones de navegación para Desktop (en móvil se usa swipe) -->
    <div id="prevArrow" class="nav-arrow arrow-left" aria-label="Avanzar">&#9664;</div>
    <div id="nextArrow" class="nav-arrow arrow-right" aria-label="Retroceder">&#9654;</div>
  </div>
  
  <!-- Banner de "fin de lectura" (oculto por defecto) -->
  <div id="surveyBanner" class="survey-banner" style="display: none;">
    <p>¡Felicidades, terminaste de leer!</p>
    <p>Si te gustó, ayúdanos completando una breve encuesta para mantener la revista con buen contenido.</p>
    <button id="surveyButton">Realizar Encuesta</button>
    <button id="closeBanner">Cerrar</button>
  </div>
  
  <!-- Toast de salida (oculto por defecto) -->
  <div id="exitToast" class="exit-toast" style="display: none;">antes de que te vallas :,&lt;</div>
  
  <!-- Barra Inferior: Contador y Copyright -->
  <div id="bottomNavBar" class="bottom-nav-bar">
    <div class="page-info" id="bottomPageInfo">1 de ?</div>
    <div class="copy">&copy; 2025 Shikashi MF</div>
  </div>
  
  <!-- Script externo -->
  <script src="js/viewer-scripts.js"></script>
</body>
</html>
